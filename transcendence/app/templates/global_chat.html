{% extends "base.html" %}
{% load static %}

{% block title %}Chat Global{% endblock %}

{% block content %}
<h2>Chat Global</h2>

<div class="global-chat">
    <!-- Contenedor para los mensajes de chat -->
    <div id="chat-section">
        <!-- Mensajes se insertarán aquí -->
    </div>

    <!-- Formulario para enviar mensajes -->
    <form id="chat-form">
        <input type="text" id="chat-input" placeholder="Escribe tu mensaje...">
        <button type="submit">Enviar</button>
    </form>
</div>


<!-- Información del usuario actual (opcional, para que el JS sepa quién es) -->
<!-- Información de jugadores en formato JSON. Respetamos el formato del Chat de la partida porque usamos el mismo JS-->
<script type="application/json" id="player-data">
    {
        "player1": {
            "id": "{{ request.user.id }}",
            "username": "{{ request.user.username }}",
            "email": "{{ request.user.email }}"
        },
        "current": "player1"
    }
</script>

<!-- Cargar el script del chat global -->
<script src="{% static 'js/chat.js' %}"></script>
{% endblock %}
